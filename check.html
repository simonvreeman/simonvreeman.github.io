<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Check</title>
    <!-- https://sheharyar.me/blog/free-ssl-for-github-pages-with-custom-domains/ -->
    <script>var host="vreeman.com";host==window.location.host&&"https:"!=window.location.protocol&&(window.location.protocol="https");</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WKSDWK');</script>
    <style>
      html {
        overflow-y: scroll;
        overflow-x: hidden;
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
      }
      body {
        margin: 1% auto;
        padding: 0 3%;
        max-width: 30em;
        font: 1.125em/1.6 sans-serif;
      }
      footer, small {
        font-size: 80%;
      }
      b, dt, strong {
        font-weight: 700;
      }
      h1, h2, h3 {
        line-height: 1.2;
      }
      a {
        background-color: transparent;
      }
      a:active, a:hover {
        outline: 0;
      }
      code {
        font-family: monospace, monospace;
        font-size: 1em;
      }
      input, textarea {
        width: 95%;
        display: block;
        padding: .5em 1%;
        font-size: 1em;
      }
      input, textarea, fieldset {
        margin-bottom: 1.5em;
      }
      textarea {
        margin-top: 1.5em;
        resize: vertical;
      }
    </style>
    <link rel="canonical" href="https://vreeman.com/">
    <meta name="referrer" content="unsafe-url">
    <meta name="robots" content="noindex,follow">
  </head>
  <body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WKSDWK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <header>
      <h1>Check</h1>
      <p><a href="https://vreeman.com/">Home</a> | <a href="tools.html">Tools</a></p>
    </header>
    <h3>Google Analytics Client ID:</h3>
    <ul>
      <li id="clientid"></li>
    </ul>
    <h3>Your local IP addresses:</h3>
    <ul></ul>
    <h3>Your public IP addresses:</h3>
    <ul></ul>
    <h3>Your IPv6 addresses:</h3>
    <ul></ul>
    <iframe id="iframe" sandbox="allow-same-origin" style="display: none"></iframe>
    <h3>Navigator</h3>
    <ul>
    <script>
      for (a in navigator) {
        document.write('<li><strong>navigator.' + a + '</strong>: ' + navigator[a] + '</li>');
      }
    </script>
    </ul>
    <h3>Window</h3>
    <ul>
    <script>
      for (b in window) {
        document.write('<li><strong>window.' + b + '</strong>: ' + window[b] + '</li>');
      }
    </script>
    </ul>
    <h3>Screen</h3>
    <ul>
    <script>
      for (c in screen) {
        document.write('<li><strong>screen.' + c + '</strong>: ' + screen[c] + '</li>');
      }
    </script>
    </ul>
    <h3>History</h3>
    <ul>
    <script>
      for (d in history) {
        document.write('<li><strong>history.' + d + '</strong>: ' + history[d] + '</li>');
      }
    </script>
    </ul>
    <h3>Location</h3>
    <ul>
    <script>
      for (e in location) {
        document.write('<li><strong>location.' + e + '</strong>: ' + location[e] + '</li>');
      }
    </script>
    </ul>
    <h3>Document</h3>
    <ul>
    <script>
      for (f in document) {
        document.write('<li><strong>document.' + f + '</strong>: ' + document[f] + '</li>');
      }
    </script>
    </ul>
    <hr>
    <footer>
      <p>Vreeman.com is the personal website of Simon Vreeman.</p>
      <dl>
        <dt>Privacy policy</dt>
        <dd>Vreeman.com uses Google Analytics to measure, track, analyse and learn user behavior on vreeman.com. Google Analytics is loaded via Google Tag Manager. Vreeman.com is hosted on Github pages. They might track some data too.</dd>
        <dt>Licenses</dt>
        <dd>Text is licensed under <a href="http://creativecommons.org/licenses/by/4.0/" rel="license" title="Creative Commons Attribution 4.0 International License">Creative Commons Attribution 4.0 International License</a>. The code is licensed und <a href="https://opensource.org/licenses/MIT" rel="license" title="MIT License">MIT</a>.</dd>
      </dl>
    </footer>
    <script>
    function getIPs(callback){
      var ip_dups = {};

      var RTCPeerConnection = window.RTCPeerConnection
      || window.mozRTCPeerConnection
      || window.webkitRTCPeerConnection;
      var useWebKit = !!window.webkitRTCPeerConnection;

      if(!RTCPeerConnection){
        var win = iframe.contentWindow;
        RTCPeerConnection = win.RTCPeerConnection
        || win.mozRTCPeerConnection
        || win.webkitRTCPeerConnection;
        useWebKit = !!win.webkitRTCPeerConnection;
      }
      var mediaConstraints = {
        optional: [{RtpDataChannels: true}]
      };
      var servers = {iceServers: [{urls: "stun:stun.services.mozilla.com"}]};
      var pc = new RTCPeerConnection(servers, mediaConstraints);

      function handleCandidate(candidate){
        var ip_regex = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/
        var ip_addr = ip_regex.exec(candidate)[1];

        if(ip_dups[ip_addr] === undefined)
          callback(ip_addr);
        ip_dups[ip_addr] = true;
      }

      pc.onicecandidate = function(ice){
        if(ice.candidate)
          handleCandidate(ice.candidate.candidate);
      };
      pc.createDataChannel("");
      pc.createOffer(function(result){
        pc.setLocalDescription(result, function(){}, function(){});
      }, function(){});

      setTimeout(function(){
        var lines = pc.localDescription.sdp.split('\n');
        lines.forEach(function(line){
          if(line.indexOf('a=candidate:') === 0)
            handleCandidate(line);
        });
      }, 1000);
    }

    getIPs(function(ip){
      var li = document.createElement("li");
      li.textContent = ip;

      if (ip.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/))
        document.getElementsByTagName("ul")[0].appendChild(li);
      else if (ip.match(/^[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}$/))
        document.getElementsByTagName("ul")[2].appendChild(li);
      else
        document.getElementsByTagName("ul")[1].appendChild(li);
    });
    </script>
  </body>
</html>