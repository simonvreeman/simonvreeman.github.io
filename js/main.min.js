(function(){var a;a=function(){var c,b;c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];b=new Date();return c[b.getDay()]};$(function(){var b;b=$("[data-day]");return b.text(a())})}).call(this);$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip({trigger:"hover",placement:"top"})});(function(a){a.fn.autogrow=function(b){this.filter("textarea").each(function(){var e=a(this),d=e.height(),c=e.css("lineHeight");var g=a("<div></div>").css({position:"absolute",top:-10000,left:-10000,width:a(this).width(),fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),lineHeight:e.css("lineHeight"),resize:"none"}).appendTo(document.body);var f=function(){var h=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n/g,"<br/>");g.html(h);a(this).css("height",Math.max(g.height()+20,d))};a(this).change(f).keyup(f).keydown(f);f.apply(this)});return this}})(jQuery);function updateOutput(){var g=$("#domain").val();var f=$("#source").val();var a=$("#medium").val();var d=$("#term").val();var e=$("#content").val();var b=$("#name").val();var c=g+"?utm_source="+encodeURIComponent(f)+"&utm_medium="+encodeURIComponent(a)+"&utm_campaign="+encodeURIComponent(b);if(d){var c=c+"&utm_term="+encodeURIComponent(d)}if(e){var c=c+"&utm_content="+encodeURIComponent(e)}if(g&&f&&a&&b){$("#url").html(c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"));$("#url").change()}else{$("#url").html("");$("#url").change()}}function initpage(){$(".auto").autogrow();$(".auto").click(function(){$(this).select()});$("input").keyup(window.updateOutput);$("input").click(window.updateOutput);$("select").change(window.updateOutput);updateOutput()}$(window.initpage);function jstat(){}function get_field_values(){return{a_visits:$("#a_visits").val().replace(/[^0-9.]/g,""),b_visits:$("#b_visits").val().replace(/[^0-9.]/g,""),a_conversions:$("#a_conversions").val().replace(/[^0-9.]/g,""),b_conversions:$("#b_conversions").val().replace(/[^0-9.]/g,"")}}function calculate_conversion(b){var a=get_field_values();if("a"==b){var c=100*(a.a_conversions/a.a_visits)}else{if("b"==b){var c=100*(a.b_conversions/a.b_visits)}}return c>100?100:isNaN(c)?0:c}function append_warning(b,a,c){$(".warning").remove(),b.val(a),b.parent().append('<span class="warning">'+c+"</span>"),$(".warning").hide().fadeIn("fast").delay(2000).fadeOut("fast")}function validate_inputs(){var a=get_field_values();parseInt(a.a_visits)<parseInt(a.a_conversions)?$("#a_visits").append('<span class="warning">Visitors must be greater than conversions.</span>'):$(".warning").remove(),parseInt(a.b_visits)<parseInt(a.b_conversions)?$("#b_visits").parent().append('<span class="warning">Visitors must be greater than conversions.</span>'):$(".warning").remove()}function calculate_certainty(d,c){if(d>=0&&c>=0){d/=100,c/=100;var h=get_field_values(),k=Math.sqrt(d*(1-d)/h.a_visits),b=Math.sqrt(c*(1-c)/h.b_visits),f=(d-c)/Math.sqrt(Math.pow(k,2)+Math.pow(b,2));if(d>c){var g=jstat.pnorm(f,0,1,null,null)}else{var g=1-jstat.pnorm(f,0,1,null,null)}return 100*g}return 0}function determine_winner(b,a,c){return 90>c?($("#row1").toggleClass("success",!1),$("#row1_label").toggleClass("row_label_success",!1),$("#row1 input").toggleClass("input_success",!1),$("#row1 strong").toggleClass("conv_success",!1),$("#row2").toggleClass("success",!1),$("#row2_label").toggleClass("row_label_success",!1),$("#row2 input").toggleClass("input_success",!1),$("#row2 strong").toggleClass("conv_success",!1),b>a?"A":"B"):b>a?($("#row1").toggleClass("success",!0),$("#row1_label").toggleClass("row_label_success",!0),$("#row1 input").toggleClass("input_success",!0),$("#row1 strong").toggleClass("conv_success",!0),$("#row2").toggleClass("success",!1),$("#row2_label").toggleClass("row_label_success",!1),$("#row2 input").toggleClass("input_success",!1),$("#row2 strong").toggleClass("conv_success",!1),"A"):($("#row1").toggleClass("success",!1),$("#row1_label").toggleClass("row_label_success",!1),$("#row1 input").toggleClass("input_success",!1),$("#row1 strong").toggleClass("conv_success",!1),$("#row2").toggleClass("success",!0),$("#row2_label").toggleClass("row_label_success",!0),$("#row2 input").toggleClass("input_success",!0),$("#row2 strong").toggleClass("conv_success",!0),"B")}function determine_loser(a){return"B"==a?"A":"B"}function calculate_winner_improvement(b,a,c){if("A"==c){$("#winner_conversion").text(Math.round(b)+"%");var d=(b-a)/a}else{$("#winner_conversion").text(Math.round(a)+"%");var d=(a-b)/b}return 100*d}function determine_statistical_significance(b){if(b>=95){var a="Your A/B test is statistically significant!"}else{if(b>=90){var a="It is questionable whether your results are statistically significant."}else{var a="Unfortunately, your results are not statistically significant."}}return a}function add_row(){}function attach_net_conv_info_for_rank(a){"SaaS / Subscription"==$("#business_type").val()&&a.append('<span class="info">Start: Home page. <br/> End: Signup completed. <br/> Not sure what this is? Try <a href="http://kissmetrics.com">KISSmetrics</a> to calculate your signup conversion.</span>'),"Daily Deals"==$("#business_type").val()&&a.append('<span class="info">Start: Viewed deal. <br/> End: Bought deal. <br/> Not sure what this is? Try <a href="http://kissmetrics.com">KISSmetrics</a> to calculate your purchase conversion.</span>'),"Ecommerce"==$("#business_type").val()&&a.append('<span class="info">Start: Viewed product. <br/> End: Checked out. <br/> Not sure what this is? Try <a href="http://kissmetrics.com">KISSmetrics</a> to calculate your purchase conversion.</span>'),"Indirect Monetization"==$("#business_type").val()&&a.append('<span class="info">Start: Home page. <br/> End: Signup completed. <br/> Not sure what this is? Try <a href="http://kissmetrics.com">KISSmetrics</a> to calculate your signup conversion.</span>')}function add_commas(b){b+="",x=b.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var a=/(\d+)(\d{3})/;a.test(x1);){x1=x1.replace(a,"$1,$2")}return x1+x2}function calculate_conversion_rate(){var b=get_field_values(),a=b.monthly_uniques*b.conversion_worth*(b.net_conversion_rate/100);return Math.round(a)}function remove_class(b,a,c){setTimeout(function(){b.removeClass(a),b.find(".soon_message")&&b.find(".soon_message").remove()},c)}function submit_mailchimp_form(){$("#mc-embedded-subscribe").click(function(a){a.preventDefault(),$("#mc-embedded-subscribe-form").submit(),a.preventDefault()}),$("#mc-embedded-subscribe-form").submit(function(b){var a=!1;$("#mc-embedded-subscribe-form p").find(".exclaim").remove(),$(this).find(".text").each(function(){""==$(this).val()?(b.preventDefault(),a=!0,$(this).parent().addClass("shake"),$(this).parent().append('<span class="exclaim">!</span>'),$(this).addClass("error")):("mce-EMAIL"==$(this).attr("id")||"email"==$(this).attr("class"))&&(validate_email($(this).val(),!1)||(b.preventDefault(),a=!0,$(this).parent().addClass("shake"),$(this).parent().append('<span class="exclaim">!</span>'),$(this).addClass("error")))}),a||($("#mc-embedded-subscribe-form").fadeOut(function(){$(".signup").append('<p class="thanks"><strong>Thank you!</strong> You&rsquo;ll receive an email shortly to confirm your subscription.</p>'),$(".email_subscribe").append('<p class="thanks"><strong>Thank you!</strong> You&rsquo;ll receive an email shortly to confirm your subscription.</p>'),$(".thanks").hide().fadeIn()}),_kmq.push(["identify","'"+$("#mce-EMAIL").val()+"'"]),_kmq.push(["record","Submitted Email Form"]))})}function validate_email(b,a){if(""==b&&a){return !0}var c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return c.test(b)}j=jstat,function(){var b=!1,a=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(g){function h(){!b&&this.init&&this.init.apply(this,arguments)}var c=this.prototype;b=!0;var d=new this;b=!1;for(var f in g){d[f]="function"==typeof g[f]&&"function"==typeof c[f]&&a.test(g[f])?function(k,e){return function(){var i=this._super;this._super=c[k];var l=e.apply(this,arguments);return this._super=i,l}}(f,g[f]):g[f]}return h.prototype=d,h.constructor=h,h.extend=arguments.callee,h}}(),jstat.ONE_SQRT_2PI=0.3989422804014327,jstat.LN_SQRT_2PI=0.9189385332046728,jstat.LN_SQRT_PId2=0.22579135264472744,jstat.DBL_MIN=F.2507e-309,jstat.DBL_EPSILON=2.220446049250313e-16,jstat.SQRT_32=5.656854249492381,jstat.TWO_PI=6.283185307179586,jstat.DBL_MIN_EXP=-999,jstat.SQRT_2dPI=0.79788456080287,jstat.LN_SQRT_PI=0.5723649429247,jstat.seq=function(b,a,c){var d=new Range(b,a,c);return d.getPoints()},jstat.dnorm=function(d,c,h,k){null==c&&(c=0),null==h&&(h=1),null==k&&(k=!1);var b=new NormalDistribution(c,h);if(isNaN(d)){if(d.length){for(var f=[],g=0;g<d.length;g++){f.push(b._pdf(d[g],k))}return f}throw"Illegal argument: x"}return b._pdf(d,k)},jstat.pnorm=function(d,c,h,l,b){null==c&&(c=0),null==h&&(h=1),null==l&&(l=!0),null==b&&(b=!1);var f=new NormalDistribution(c,h);if(isNaN(d)){if(d.length){for(var g=[],k=0;k<d.length;k++){g.push(f._cdf(d[k],l,b))}return g}throw"Illegal argument: x"}return f._cdf(d,l,b)},jstat.dlnorm=function(d,c,h,k){null==c&&(c=0),null==h&&(h=1),null==k&&(k=!1);var b=new LogNormalDistribution(c,h);if(isNaN(d)){if(d.length){for(var f=[],g=0;g<d.length;g++){f.push(b._pdf(d[g],k))}return f}throw"Illegal argument: x"}return b._pdf(d,k)},jstat.plnorm=function(d,c,h,l,b){null==c&&(c=0),null==h&&(h=1),null==l&&(l=!0),null==b&&(b=!1);var f=new LogNormalDistribution(c,h);if(isNaN(d)){if(d.length){for(var g=[],k=0;k<d.length;k++){g.push(f._cdf(d[k],l,b))}return g}throw"Illegal argument: x"}return f._cdf(d,l,b)},jstat.dbeta=function(d,c,h,l,b){null==l&&(l=0),null==b&&(b=!1);var f=new BetaDistribution(c,h);if(isNaN(d)){if(d.length){for(var g=[],k=0;k<d.length;k++){g.push(f._pdf(d[k],b))}return g}throw"Illegal argument: x"}return f._pdf(d,b)},jstat.pbeta=function(m,g,h,d,k,p){null==d&&(d=0),null==p&&(p=!1),null==k&&(k=!0);var b=new BetaDistribution(g,h);if(isNaN(m)){if(m.length){for(var c=[],f=0;f<m.length;f++){c.push(b._cdf(m[f],k,p))}return c}throw"Illegal argument: x"}return b._cdf(m,k,p)},jstat.dgamma=function(d,c,h,l,b){null==h&&(h=1),null==l&&(l=1/h),null==b&&(b=!1);var f=new GammaDistribution(c,l);if(isNaN(d)){if(d.length){for(var g=[],k=0;k<d.length;k++){g.push(f._pdf(d[k],b))}return g}throw"Illegal argument: x"}return f._pdf(d,b)},jstat.pgamma=function(m,g,h,d,k,p){null==h&&(h=1),null==d&&(d=1/h),null==k&&(k=!0),null==p&&(p=!1);var b=new GammaDistribution(g,d);if(isNaN(m)){if(m.length){for(var c=[],f=0;f<m.length;f++){c.push(b._cdf(m[f],k,p))}return c}throw"Illegal argument: x"}return b._cdf(m,k,p)},jstat.dt=function(d,c,h,k){null==k&&(k=!1);var b=new StudentTDistribution(c,h);if(isNaN(d)){if(d.length){for(var f=[],g=0;g<d.length;g++){f.push(b._pdf(d[g],k))}return f}throw"Illegal argument: x"}return b._pdf(d,k)},jstat.pt=function(d,c,h,l,b){null==l&&(l=!0),null==b&&(b=!1);var f=new StudentTDistribution(c,h);if(isNaN(d)){if(d.length){for(var g=[],k=0;k<d.length;k++){g.push(f._cdf(d[k],l,b))}return g}throw"Illegal argument: x"}return f._cdf(d,l,b)},jstat.plot=function(m,g,h){if(null==m){throw"x is undefined in jstat.plot"}if(null==g){throw"y is undefined in jstat.plot"}if(m.length!=g.length){throw"x and y lengths differ in jstat.plot"}var d={series:{lines:{},points:{}}},k=[];if(void 0==m.length){k.push([m,g]),d.series.points.show=!0}else{for(var p=0;p<m.length;p++){k.push([m[p],g[p]])}}var b="jstat graph";null!=h&&(null!=h.type&&("l"==h.type?d.series.lines.show=!0:"p"==h.type&&(d.series.lines.show=!1,d.series.points.show=!0)),null!=h.hover&&(d.grid={hoverable:h.hover}),null!=h.main&&(b=h.main));var c=new Date,f=c.getMilliseconds()*c.getMinutes()+c.getSeconds();$("body").append('<div title="'+b+'" style="display: none;" id="'+f+'"><div id="graph-'+f+'" style="width:95%; height: 95%"></div></div>'),$("#"+f).dialog({modal:!1,width:475,height:475,resizable:!0,resize:function(){$.plot($("#graph-"+f),[k],d)},open:function(){$.plot($("#graph-"+f),[k],d)}})},jstat.log10=function(a){return Math.log(a)/Math.LN10},jstat.toSigFig=function(d,c){if(0==d){return 0}var g=Math.ceil(jstat.log10(0>d?-d:d)),h=c-parseInt(g),b=Math.pow(10,h),f=Math.round(d*b);return f/b},jstat.trunc=function(a){return a>0?Math.floor(a):Math.ceil(a)},jstat.isFinite=function(a){return !isNaN(a)&&a!=Number.POSITIVE_INFINITY&&a!=Number.NEGATIVE_INFINITY},jstat.dopois_raw=function(d,c,g){if(0==c){return 0==d?g?0:1:g?Number.NEGATIVE_INFINITY:0}if(!jstat.isFinite(c)){return g?Number.NEGATIVE_INFINITY:0}if(0>d){return g?Number.NEGATIVE_INFINITY:0}if(d<=c*jstat.DBL_MIN){return g?-c:Math.exp(-c)}if(c<d*jstat.DBL_MIN){var h=-c+d*Math.log(c)-jstat.lgamma(d+1);return g?h:Math.exp(h)}var b=jstat.TWO_PI*d,f=-jstat.stirlerr(d)-jstat.bd0(d,c);return g?-0.5*Math.log(b)+f:Math.exp(f)/Math.sqrt(b)},jstat.bd0=function(d,c){var h,k,b,f,g;if(!jstat.isFinite(d)||!jstat.isFinite(c)||0==c){throw"illegal parameter in jstat.bd0"}if(Math.abs(d-c)>0.1*(d+c)){for(f=(d-c)/(d+c),k=(d-c)*f,h=2*d*f,f*=f,g=1;;g++){if(h*=f,b=k+h/((g<<1)+1),b==k){return b}k=b}}return d*Math.log(d/c)+c-d},jstat.stirlerr=function(d){var c,h=0.08333333333333333,l=0.002777777777777778,b=0.0007936507936507937,f=0.0005952380952380953,g=0.0008417508417508417,k=[0,0.15342640972002736,0.08106146679532726,0.05481412105191765,0.0413406959554093,0.03316287351993629,0.02767792568499834,0.023746163656297496,0.020790672103765093,0.018488450532673187,0.016644691189821193,0.015134973221917378,0.013876128823070748,0.012810465242920227,0.01189670994589177,0.011104559758206917,0.010411265261972096,0.009799416126158804,0.009255462182712733,0.008768700134139386,0.00833056343336287,0.00793411456431402,0.007573675487951841,0.007244554301320383,0.00694284010720953,0.006665247032707682,0.006408994188004207,0.006171712263039458,0.0059513701127588475,0.0057462165130101155,0.005554733551962801];return 15>=d?(c=d+d,c==parseInt(c)?k[parseInt(c)]:jstat.lgamma(d+1)-(d+0.5)*Math.log(d)+d-jstat.LN_SQRT_2PI):(c=d*d,d>500?(h-l/c)/d:d>80?(h-(l-b/c)/c)/d:d>35?(h-(l-(b-f/c)/c)/c)/d:(h-(l-(b-(f-g/c)/c)/c)/c)/d)},jstat.lgamma=function(b){function a(f,d){var k,l,c,g=2.5327372760800758e+305,h=1.4901161193847656e-8;if(null!=d&&(d=1),isNaN(f)){return f}if(0>f&&0==Math.floor(-f)%2&&null!=d&&(d=-1),0>=f&&f==jstat.trunc(f)){return console.warn("Negative integer argument in lgammafn_sign"),Number.POSITIVE_INFINITY}if(l=Math.abs(f),10>=l){return Math.log(Math.abs(jstat.gamma(f)))}if(l>g){return console.warn("Illegal arguement passed to lgammafn_sign"),Number.POSITIVE_INFINITY}if(f>0){return f>100000000000000000?f*(Math.log(f)-1):f>4934720?jstat.LN_SQRT_2PI+(f-0.5)*Math.log(f)-f:jstat.LN_SQRT_2PI+(f-0.5)*Math.log(f)-f+jstat.lgammacor(f)}if(c=Math.abs(Math.sin(Math.PI*l)),0==c){throw"Should never happen!!"}if(k=jstat.LN_SQRT_PId2+(f-0.5)*Math.log(l)-f-Math.log(c)-jstat.lgammacor(l),Math.abs((f-jstat.trunc(f-0.5))*k/f)<h){throw"The answer is less than half the precision argument too close to a negative integer"}return k}return a(b,null)},jstat.gamma=function(H){var y,C,q,E,I,b,k,w,G,z,B,F,D=171.624,A=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],v=[-30.840230011973897,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.25967555349],d=[-0.001910444077728,0.00084171387781295,-0.0005952379913043012,0.0007936507935003503,-0.0027777777777776816,0.08333333333333333,0.0057083835261];if(q=0,E=1,C=0,k=H,0>=k){if(k=-H,G=jstat.trunc(k),z=k-G,0==z){return Number.POSITIVE_INFINITY}G!=2*jstat.trunc(0.5*G)&&(q=1),E=-Math.PI/Math.sin(Math.PI*z),k+=1}if(k<jstat.DBL_EPSILON){if(!(k>=jstat.DBL_MIN)){return Number.POSITIVE_INFINITY}z=1/k}else{if(12>k){for(G=k,1>k?(w=k,k+=1):(C=parseInt(k)-1,k-=parseFloat(C),w=k-1),b=0,I=1,y=0;8>y;++y){b=(b+A[y])*w,I=I*w+v[y]}if(z=b/I+1,k>G){z/=G}else{if(G>k){for(y=0;C>y;++y){z*=k,k+=1}}}}else{if(!(D>=k)){return Number.POSITIVE_INFINITY}for(F=k*k,B=d[6],y=0;6>y;++y){B=B/F+d[y]}B=B/k-k+jstat.LN_SQRT_2PI,B+=(k-0.5)*Math.log(k),z=Math.exp(B)}}return q&&(z=-z),1!=E&&(z=E/z),z},jstat.lgammacor=function(d){var c,g=[0.16663894804518634,-0.00001384948176067564,9.81082564692473e-9,-1.809129475572494e-11,6.221098041892606e-14,-3.399615005417722e-16,2.683181998482699e-18,-2.868042435334643e-20,3.9628370610464347e-22,-6.831888753985767e-24,1.4292273559424982e-25,-3.5475981581010704e-27,1.025680058010471e-28,-3.401102254316749e-30,1.276642195630063e-31],h=5,b=94906265.62425156,f=3.745194030963158e+306;if(10>d){return Number.NaN}if(d>=f){throw"Underflow error in lgammacor"}return b>d?(c=10/d,jstat.chebyshev(2*c*c-1,g,h)/d):1/(12*d)},jstat.incompleteBeta=function(d,c,f){function g(H,y,C){var q,E,I,k,p,w,G,z,B,F,D=100,A=3e-12,v=1e-30;for(z=H+y,F=H+1,B=H-1,k=1,p=1-z*C/F,Math.abs(p)<v&&(p=v),p=1/p,G=p,q=1;D>=q&&(E=2*q,I=q*(y-q)*C/((B+E)*(H+E)),p=1+I*p,Math.abs(p)<v&&(p=v),k=1+I/k,Math.abs(k)<v&&(k=v),p=1/p,G*=p*k,I=-(H+q)*(z+q)*C/((H+E)*(F+E)),p=1+I*p,Math.abs(p)<v&&(p=v),k=1+I/k,Math.abs(k)<v&&(k=v),p=1/p,w=p*k,G*=w,!(Math.abs(w-1)<A));q++){}return q>D?(console.warn("a or b too big, or MAXIT too small in betacf: "+H+", "+y+", "+C+", "+G),G):(isNaN(G)&&console.warn(H+", "+y+", "+C),G)}var b;if(0>f||f>1){throw"bad x in routine incompleteBeta"}return b=0==f||1==f?0:Math.exp(jstat.lgamma(d+c)-jstat.lgamma(d)-jstat.lgamma(c)+d*Math.log(f)+c*Math.log(1-f)),(d+1)/(d+c+2)>f?b*g(d,c,f)/d:1-b*g(c,d,1-f)/c},jstat.chebyshev=function(d,c,h){var l,b,f,g,k;if(1>h||h>1000){return Number.NaN}if(-1.1>d||d>1.1){return Number.NaN}for(g=2*d,f=b=0,l=0,k=1;h>=k;k++){f=b,b=l,l=g*b-f+c[h-k]}return 0.5*(l-f)},jstat.fmin2=function(b,a){return a>b?b:a},jstat.log1p=function(b){var a=0,c=50;if(-1>=b){return Number.NEGATIVE_INFINITY}if(0>b||b>1){return Math.log(1+b)}for(var d=1;c>d;d++){0===d%2?a-=Math.pow(b,d)/d:a+=Math.pow(b,d)/d}return a},jstat.expm1=function(b){var a,c=Math.abs(b);return c<jstat.DBL_EPSILON?b:c>0.697?Math.exp(b)-1:(a=c>1e-8?Math.exp(b)-1:(b/2+1)*b,a-=(1+a)*(jstat.log1p(a)-b))},jstat.logBeta=function(d,c){var f,g,b;return g=b=d,g>c&&(g=c),c>b&&(b=c),0>g?(console.warn("Both arguements must be >= 0"),Number.NaN):0==g?Number.POSITIVE_INFINITY:jstat.isFinite(b)?g>=10?(f=jstat.lgammacor(g)+jstat.lgammacor(b)-jstat.lgammacor(g+b),Math.log(b)*-0.5+jstat.LN_SQRT_2PI+f+(g-0.5)*Math.log(g/(g+b))+b*jstat.log1p(-g/(g+b))):b>=10?(f=jstat.lgammacor(b)-jstat.lgammacor(g+b),jstat.lgamma(g)+f+g-g*Math.log(g+b)+(b-0.5)*jstat.log1p(-g/(g+b))):Math.log(jstat.gamma(g)*(jstat.gamma(b)/jstat.gamma(g+b))):Number.NEGATIVE_INFINITY},jstat.dbinom_raw=function(d,c,h,k,b){null==b&&(b=!1);var f,g;return 0==h?0==d?b?0:1:b?Number.NEGATIVE_INFINITY:0:0==k?d==c?b?0:1:b?Number.NEGATIVE_INFINITY:0:0==d?0==c?b?0:1:(g=0.1>h?-jstat.bd0(c,c*k)-c*h:c*Math.log(k),b?g:Math.exp(g)):d==c?(g=0.1>k?-jstat.bd0(c,c*h)-c*k:c*Math.log(h),b?g:Math.exp(g)):0>d||d>c?b?Number.NEGATIVE_INFINITY:0:(g=jstat.stirlerr(c)-jstat.stirlerr(d)-jstat.stirlerr(c-d)-jstat.bd0(d,c*h)-jstat.bd0(c-d,c*k),f=Math.log(jstat.TWO_PI)+Math.log(d)+jstat.log1p(-d/c),b?g-0.5*f:Math.exp(g-0.5*f))},jstat.max=function(b){for(var a=Number.NEGATIVE_INFINITY,c=0;c<b.length;c++){b[c]>a&&(a=b[c])}return a};var Range=Class.extend({init:function(b,a,c){this._minimum=parseFloat(b),this._maximum=parseFloat(a),this._numPoints=parseFloat(c)},getMinimum:function(){return this._minimum},getMaximum:function(){return this._maximum},getNumPoints:function(){return this._numPoints},getPoints:function(){for(var b=[],a=this._minimum,c=(this._maximum-this._minimum)/(this._numPoints-1),d=0;d<this._numPoints;d++){b[d]=parseFloat(a.toFixed(6)),a+=c}return b}});Range.validate=function(a){return !a instanceof Range?!1:isNaN(a.getMinimum())||isNaN(a.getMaximum())||isNaN(a.getNumPoints())||a.getMaximum()<a.getMinimum()||a.getNumPoints()<=0?!1:!0};var ContinuousDistribution=Class.extend({init:function(a){this._name=a},toString:function(){return this._string},getName:function(){return this._name},getClassName:function(){return this._name+"Distribution"},density:function(b){if(isNaN(b)){if(Range.validate(b)){for(var a=b.getPoints(),c=[],d=0;d<a.length;d++){c[d]=parseFloat(this._pdf(a[d]))}return c}throw"Invalid parameter supplied to "+this.getClassName()+".density()"}return parseFloat(this._pdf(b).toFixed(15))},cumulativeDensity:function(b){if(isNaN(b)){if(Range.validate(b)){for(var a=b.getPoints(),c=[],d=0;d<a.length;d++){c[d]=parseFloat(this._cdf(a[d]))}return c}throw"Invalid parameter supplied to "+this.getClassName()+".cumulativeDensity()"}return parseFloat(this._cdf(b).toFixed(15))},getRange:function(d,c){null==d&&(d=5),null==c&&(c=100);var f=this.getMean()-d*Math.sqrt(this.getVariance()),g=this.getMean()+d*Math.sqrt(this.getVariance());"GammaDistribution"==this.getClassName()||"LogNormalDistribution"==this.getClassName()?(f=0,g=this.getMean()+d*Math.sqrt(this.getVariance())):"BetaDistribution"==this.getClassName()&&(f=0,g=1);var b=new Range(f,g,c);return b},getVariance:function(){},getMean:function(){},getQuantile:function(b){function a(w,i){for(var q=0.00001,y=w.getPoints(),e=0,g=999,k=0;k<y.length;k++){var v=c.cumulativeDensity(y[k]),m=Math.abs(v-i);g>m&&(e=k,g=m)}if(q>=g){return y[e]}var p=new Range(y[e-1],y[e+1],20);return a(p,i)}var c=this,d=this.getRange(5,20);return a(d,b)}}),NormalDistribution=ContinuousDistribution.extend({init:function(b,a){this._super("Normal"),this._mean=parseFloat(b),this._sigma=parseFloat(a),this._string="Normal ("+this._mean.toFixed(2)+", "+this._sigma.toFixed(2)+")"},_pdf:function(b,a){null==a&&(a=!1);var c=this._sigma,d=this._mean;if(!jstat.isFinite(c)){return a?Number.NEGATIVE_INFINITY:0}if(!jstat.isFinite(b)&&d==b){return Number.NaN}if(0>=c){if(0>c){throw"invalid sigma in _pdf"}return b==d?Number.POSITIVE_INFINITY:a?Number.NEGATIVE_INFINITY:0}return b=(b-d)/c,jstat.isFinite(b)?a?-(jstat.LN_SQRT_2PI+0.5*b*b+Math.log(c)):jstat.ONE_SQRT_2PI*Math.exp(-0.5*b*b)/c:a?Number.NEGATIVE_INFINITY:0},_cdf:function(v,g,m){function d(B,K,P,G,T){var C,D,F,J,A,L,O,U,R,M,H=[2.2352520354606837,161.02823106855587,1067.6894854603709,18154.98125334356,0.06568233791820745],E=[47.202581904688245,976.0985517377767,10260.932208618979,45507.78933502673],Q=[0.39894151208813466,8.883149794388377,93.50665613217785,597.2702763948002,2494.5375852903726,6848.190450536283,11602.65143764735,9842.714838383978,1.0765576773720192e-8],y=[22.266688044328117,235.387901782625,1519.3775994075547,6485.558298266761,18615.571640885097,34900.95272114598,38912.00328609327,19685.429676859992],S=[0.215898534057957,0.12740116116024736,0.022235277870649807,0.0014216191932278934,0.000029112874951168793,0.023073441764940174],z=[1.284260096144911,0.4682382124808651,0.06598813786892856,0.0037823963320275824,0.00007297515550839662];if(A=0.5*jstat.DBL_EPSILON,R=1!=G,M=0!=G,O=Math.abs(B),0.67448975>=O){if(O>A){for(L=B*B,D=H[4]*L,C=L,U=0;3>U;++U){D=(D+H[U])*L,C=(C+E[U])*L}}else{D=C=0}F=B*(D+H[3])/(C+E[3]),R&&(K=0.5+F),M&&(P=0.5-F),T&&(R&&(K=Math.log(K)),M&&(P=Math.log(P)))}else{if(O<=jstat.SQRT_32){for(D=Q[8]*O,C=O,U=0;7>U;++U){D=(D+Q[U])*O,C=(C+y[U])*O}F=(D+Q[7])/(C+y[7]),L=jstat.trunc(16*B)/16,J=(B-L)*(B+L),T?(K=0.5*-L*L+0.5*-J+Math.log(F),(R&&B>0||M&&0>=B)&&(P=jstat.log1p(-Math.exp(0.5*-L*L)*Math.exp(0.5*-J)*F))):(K=Math.exp(0.5*-L*L)*Math.exp(0.5*-J)*F,P=1-K),B>0&&(F=K,R&&(K=P),P=F)}else{if(T&&1e+170>O||R&&B>-37.5193&&8.2924>B||M&&B>-8.2924&&37.5193>B){for(L=1/(B*B),D=S[5]*L,C=L,U=0;4>U;++U){D=(D+S[U])*L,C=(C+z[U])*L}F=L*(D+S[4])/(C+z[4]),F=(jstat.ONE_SQRT_2PI-F)/O,L=jstat.trunc(16*B)/16,J=(B-L)*(B+L),T?(K=0.5*-L*L+0.5*-J+Math.log(F),(R&&B>0||M&&0>=B)&&(P=jstat.log1p(-Math.exp(0.5*-L*L)*Math.exp(0.5*-J)*F))):(K=Math.exp(0.5*-L*L)*Math.exp(0.5*-J)*F,P=1-K),B>0&&(F=K,R&&(K=P),P=F)}else{B>0?(K=T?0:1,P=T?Number.NEGATIVE_INFINITY:0):(K=T?Number.NEGATIVE_INFINITY:0,P=T?0:1)}}}return[K,P]}null==g&&(g=!0),null==m&&(m=!1);var p,w,b,c,f=this._mean,q=this._sigma;if(g?m?(b=Number.NEGATIVE_INFINITY,c=0):(b=0,c=1):m?(b=0,c=Number.NEGATIVE_INFINITY):(b=1,c=0),!jstat.isFinite(v)&&f==v){return Number.NaN}if(0>=q){return 0>q?(console.warn("Sigma is less than 0"),Number.NaN):f>v?b:c}if(p=(v-f)/q,!jstat.isFinite(p)){return f>v?b:c}v=p;var k=d(v,p,w,g?!1:!0,m);return g?k[0]:k[1]},getMean:function(){return this._mean},getSigma:function(){return this._sigma},getVariance:function(){return this._sigma*this._sigma}}),LogNormalDistribution=ContinuousDistribution.extend({init:function(b,a){this._super("LogNormal"),this._location=parseFloat(b),this._scale=parseFloat(a),this._string="LogNormal ("+this._location.toFixed(2)+", "+this._scale.toFixed(2)+")"},_pdf:function(d,c){var f,g=this._scale,b=this._location;if(null==c&&(c=!1),0>=g){throw"Illegal parameter in _pdf"}return 0>=d?c?Number.NEGATIVE_INFINITY:0:(f=(Math.log(d)-b)/g,c?-(jstat.LN_SQRT_2PI+0.5*f*f+Math.log(d*g)):jstat.ONE_SQRT_2PI*Math.exp(-0.5*f*f)/(d*g))},_cdf:function(d,c,g){var h=this._scale,b=this._location;if(null==c&&(c=!0),null==g&&(g=!1),0>=h){throw"illegal std in _cdf"}if(d>0){var f=new NormalDistribution(b,h);return f._cdf(Math.log(d),c,g)}return c?g?Number.NEGATIVE_INFINITY:0:g?0:1},getLocation:function(){return this._location},getScale:function(){return this._scale},getMean:function(){return Math.exp((this._location+this._scale)/2)},getVariance:function(){var a=(Math.exp(this._scale)-1)*Math.exp(2*this._location+this._scale);return a}}),GammaDistribution=ContinuousDistribution.extend({init:function(b,a){this._super("Gamma"),this._shape=parseFloat(b),this._scale=parseFloat(a),this._string="Gamma ("+this._shape.toFixed(2)+", "+this._scale.toFixed(2)+")"},_pdf:function(d,c){var f,g=this._shape,b=this._scale;if(null==c&&(c=!1),0>g||0>=b){throw"Illegal argument in _pdf"}return 0>d?c?Number.NEGATIVE_INFINITY:0:0==g?0==d?Number.POSITIVE_INFINITY:c?Number.NEGATIVE_INFINITY:0:0==d?1>g?Number.POSITIVE_INFINITY:g>1?c?Number.NEGATIVE_INFINITY:0:c?-Math.log(b):1/b:1>g?(f=jstat.dopois_raw(g,d/b,c),c?f+Math.log(g/d):f*g/d):(f=jstat.dopois_raw(g-1,d/b,c),c?f-Math.log(b):f/b)},_cdf:function(C,L,R){function H(){V=3*Math.sqrt(U)*(Math.pow(C/U,1/3)+1/(9*U)-1);var a=new NormalDistribution(0,1);return a._cdf(V,L,R)}null==L&&(L=!0),null==R&&(R=!1);var V,D,E,G,K,B,O,Q,W,T,P,J,F,S,k,U=this._shape,y=this._scale,A=100000000,z=1e+37,q=100000;if(0>=U||0>=y){return console.warn("Invalid gamma params in _cdf"),Number.NaN}if(C/=y,isNaN(C)){return C}if(0>=C){return L?R?Number.NEGATIVE_INFINITY:0:R?0:1}if(U>q){return H()}if(C>A*U){return C>jstat.DBL_MAX*U?L?R?0:1:R?Number.NEGATIVE_INFINITY:0:H()}if(1>=C||U>C){k=1,O=U*Math.log(C)-C-jstat.lgamma(U+1),T=1,F=1,Q=U;do{Q+=1,T*=C/Q,F+=T}while(T>jstat.DBL_EPSILON*F)}else{for(k=0,O=U*Math.log(C)-C-jstat.lgamma(U),Q=1-U,W=Q+C+1,V=1,D=C,E=C+1,G=C*W,F=E/G,S=1;Q+=1,W+=2,P=Q*S,K=W*E-P*V,B=W*G-P*D,!(Math.abs(B)>0&&(J=F,F=K/B,Math.abs(J-F)<=jstat.DBL_EPSILON*jstat.fmin2(1,F)));S++){V=E,D=G,E=K,G=B,Math.abs(K)>=z&&(V/=z,D/=z,E/=z,G/=z)}}return O+=Math.log(F),L=L==k,R&&L?O:L?Math.exp(O):R?O>-Math.LN2?Math.log(-jstat.expm1(O)):jstat.log1p(-Math.exp(O)):-jstat.expm1(O)},getShape:function(){return this._shape},getScale:function(){return this._scale},getMean:function(){return this._shape*this._scale},getVariance:function(){return this._shape*Math.pow(this._scale,2)}}),BetaDistribution=ContinuousDistribution.extend({init:function(b,a){this._super("Beta"),this._alpha=parseFloat(b),this._beta=parseFloat(a),this._string="Beta ("+this._alpha.toFixed(2)+", "+this._beta.toFixed(2)+")"},_pdf:function(d,c){null==c&&(c=!1);var f,g=this._alpha,b=this._beta;return 0>=g||0>=b?(console.warn("Illegal arguments in _pdf"),Number.NaN):0>d||d>1?c?Number.NEGATIVE_INFINITY:0:0==d?g>1?c?Number.NEGATIVE_INFINITY:0:1>g?Number.POSITIVE_INFINITY:c?Math.log(b):b:1==d?b>1?c?Number.NEGATIVE_INFINITY:0:1>b?Number.POSITIVE_INFINITY:c?Math.log(g):g:(f=2>=g||2>=b?(g-1)*Math.log(d)+(b-1)*jstat.log1p(-d)-jstat.logBeta(g,b):Math.log(g+b-1)+jstat.dbinom_raw(g-1,g+b-2,d,1-d,!0),c?f:Math.exp(f))},_cdf:function(d,c,f){null==c&&(c=!0),null==f&&(f=!1);var g=this._alpha,b=this._beta;return 0>=g||0>=b?(console.warn("Invalid argument in _cdf"),Number.NaN):0>=d?c?f?Number.NEGATIVE_INFINITY:0:f?0.1:1:d>=1?c?f?0.1:1:f?Number.NEGATIVE_INFINITY:0:jstat.incompleteBeta(g,b,d)},getAlpha:function(){return this._alpha},getBeta:function(){return this._beta},getMean:function(){return this._alpha/(this._alpha+this._beta)},getVariance:function(){var a=this._alpha*this._beta/(Math.pow(this._alpha+this._beta,2)*(this._alpha+this._beta+1));return a}}),StudentTDistribution=ContinuousDistribution.extend({init:function(b,a){this._super("StudentT"),this._dof=parseFloat(b),null!=a?(this._mu=parseFloat(a),this._string="StudentT ("+this._dof.toFixed(2)+", "+this._mu.toFixed(2)+")"):(this._mu=0,this._string="StudentT ("+this._dof.toFixed(2)+")")},_pdf:function(b,a){if(null==a&&(a=!1),null==this._mu){return this._dt(b,a)}var c=this._dnt(b,a);return c>1&&console.warn("x:"+b+", y: "+c),c},_cdf:function(b,a,c){return null==a&&(a=!0),null==c&&(c=!1),null==this._mu?this._pt(b,a,c):this._pnt(b,a,c)},_dt:function(d,c){var h,l,b=this._dof;if(0>=b){return console.warn("Invalid parameters in _dt"),Number.NaN}if(!jstat.isFinite(d)){return c?Number.NEGATIVE_INFINITY:0}if(!jstat.isFinite(b)){var f=new NormalDistribution(0,1);return f.density(d,c)}h=-jstat.bd0(b/2,(b+1)/2)+jstat.stirlerr((b+1)/2)-jstat.stirlerr(b/2),l=d*d>0.2*b?Math.log(1+d*d/b)*b/2:-jstat.bd0(b/2,(b+d*d)/2)+d*d/2;var g=jstat.TWO_PI*(1+d*d/b),k=h-l;return c?-0.5*Math.log(g)+k:Math.exp(k)/Math.sqrt(g)},_dnt:function(d,c){null==c&&(c=!1);var h,k=this._dof,b=this._mu;if(0>=k){return console.warn("Illegal arguments _dnf"),Number.NaN}if(0==b){return this._dt(d,c)}if(!jstat.isFinite(d)){return c?Number.NEGATIVE_INFINITY:0}if(!isFinite(k)||k>100000000){var f=new NormalDistribution(b,1);return f.density(d,c)}if(Math.abs(d)>Math.sqrt(k*jstat.DBL_EPSILON)){var g=new StudentTDistribution(k+2,b);h=Math.log(k)-Math.log(Math.abs(d))+Math.log(Math.abs(g._pnt(d*Math.sqrt((k+2)/k),!0,!1)-this._pnt(d,!0,!1)))}else{h=jstat.lgamma((k+1)/2)-jstat.lgamma(k/2)-0.5*(Math.log(Math.PI)+Math.log(k)+b*b)}return c?h:Math.exp(h)},_pt:function(v,g,m){null==g&&(g=!0),null==m&&(m=!1);var d,p,w,b,c=this._dof;if(g?m?(w=Number.NEGATIVE_INFINITY,b=1):(w=0,b=1):m?(w=0,b=Number.NEGATIVE_INFINITY):(w=1,b=0),0>=c){return console.warn("Invalid T distribution _pt"),Number.NaN}var f=new NormalDistribution(0,1);if(!jstat.isFinite(v)){return 0>v?w:b}if(!jstat.isFinite(c)){return f._cdf(v,g,m)}if(c>400000){return d=1/(4*c),f._cdf(v*(1-d)/sqrt(1+2*v*v*d),g,m)}if(p=1+v/c*v,!(p>1e+100)){if(c>v*v){var q=new BetaDistribution(0.5,c/2);return q._cdf(v*v/(c+v*v),!1,m)}return q=new BetaDistribution(c/2,0.5),q._cdf(1/p,!0,m)}var k;return k=-0.5*c*(2*Math.log(Math.abs(v))-Math.log(c))-jstat.logBeta(0.5*c,0.5)-Math.log(0.5*c),d=m?k:Math.exp(k),0>=v&&(g=!g),m?g?jstat.log1p(-0.5*Math.exp(d)):d-M_LN2:(d/=2,g?0.5-d+0.5:d)},_pnt:function(L,Y,ac){var U,ag,P=this._dof,Q=this._mu;Y?ac?(U=Number.NEGATIVE_INFINITY,ag=1):(U=0,ag=1):ac?(U=0,ag=Number.NEGATIVE_INFINITY):(U=1,ag=0);var S,W,J,Z,ab,ah,ae,aa,V,R,ad,y,af,B,G,C,z,X,k,A=1000,q=1e-7;if(0>=P){return Number.NaN}if(0==P){return this._pt(L)}if(!jstat.isFinite(L)){return 0>L?U:ag}if(L>=0){k=!1,aa=L,Z=Q}else{if(Q>=40&&(!ac||!Y)){return U}k=!0,aa=-L,Z=-Q}if(P>400000||Z*Z>2*Math.LN2*-jstat.DBL_MIN_EXP){B=1/(4*P);var H=new NormalDistribution(Z,Math.sqrt(1+2*aa*aa*B)),O=H._cdf(aa*(1-B),Y!=k,ac);return O}if(V=L*L,ae=P/(V+P),V/=V+P,V>0){if(ah=Z*Z,y=0.5*Math.exp(-0.5*ah),0==y){return console.warn("underflow in _pnt"),U}for(af=jstat.SQRT_2dPI*y*Z,B=0.5-y,1e-7>B&&(B=-0.5*jstat.expm1(-0.5*ah)),W=0.5,J=0.5*P,ae=Math.pow(ae,J),S=jstat.LN_SQRT_PI+jstat.lgamma(J)-jstat.lgamma(0.5+J),z=jstat.incompleteBeta(W,J,V),ad=2*ae*Math.exp(W*Math.log(V)-S),G=J*V,C=G<jstat.DBL_EPSILON?G:1-ae,R=G*ae,G=y*z+af*C,X=1;A>=X&&(W+=1,z-=ad,C-=R,ad*=V*(W+J-1)/W,R*=V*(W+J-0.5)/(W+0.5),y*=ah/(2*X),af*=ah/(2*X+1),G+=y*z+af*C,B-=y,!(-1e-10>B))&&!(0>=B&&X>1)&&(ab=2*B*(z-ad),!(Math.abs(ab)<q));X++){}if(X==A){throw"Non-convergence _pnt"}}else{G=0}H=new NormalDistribution(0,1),G+=H._cdf(-Z,!0,!1),Y=Y!=k;var K=jstat.fmin2(G,1);return Y?ac?Math.log(K):K:ac?jstat.log1p(-K):0.5-K+0.5},getDegreesOfFreedom:function(){return this._dof},getNonCentralityParameter:function(){return this._mu},getMean:function(){if(this._dof>1){var a=0.5*Math.log(this._dof/2)+jstat.lgamma((this._dof-1)/2)-jstat.lgamma(this._dof/2);return Math.exp(a)*this._mu}return Number.NaN},getVariance:function(){if(this._dof>2){var a=this._dof*(1+this._mu*this._mu)/(this._dof-2)-this._mu*this._mu*this._dof/2*Math.pow(Math.exp(jstat.lgamma((this._dof-1)/2)-jstat.lgamma(this._dof/2)),2);return a}return Number.NaN}}),Plot=Class.extend({init:function(b,a){this._container="#"+String(b),this._plots=[],this._flotObj=null,this._locked=!1,this._options=null!=a?a:{}},getContainer:function(){return this._container},getGraph:function(){return this._flotObj},setData:function(a){this._plots=a},clear:function(){this._plots=[]},showLegend:function(){this._options.legend={show:!0},this.render()},hideLegend:function(){this._options.legend={show:!1},this.render()},render:function(){this._flotObj=null,this._flotObj=$.plot($(this._container),this._plots,this._options)}}),DistributionPlot=Plot.extend({init:function(b,a,c,d){this._super(b,d),this._showPDF=!0,this._showCDF=!1,this._pdfValues=[],this._cdfValues=[],this._maxY=1,this._plotType="line",this._fill=!1,this._distribution=a,this._range=null!=c&&Range.validate(c)?c:this._distribution.getRange(),null!=this._distribution?this._maxY=this._generateValues():(this._options.xaxis={min:c.getMinimum(),max:c.getMaximum()},this._options.yaxis={max:1}),this.render()},setHover:function(b){function a(f,d,g,h){$('<div id="jstat_tooltip">'+g+"</div>").css({position:"absolute",display:"none",top:d+15,"font-size":"small",left:f+5,border:"1px solid "+h[1],color:h[2],padding:"5px","background-color":h[0],opacity:0.8}).appendTo("body").show()}if(b){null==this._options.grid?this._options.grid={hoverable:!0,mouseActiveRadius:25}:(this._options.grid.hoverable=!0,this._options.grid.mouseActiveRadius=25);var c=null;$(this._container).bind("plothover",function(f,k,e){if($("#x").text(k.x.toFixed(2)),$("#y").text(k.y.toFixed(2)),e){if(c!=e.datapoint){c=e.datapoint,$("#jstat_tooltip").remove();var g=jstat.toSigFig(e.datapoint[0],2),h=jstat.toSigFig(e.datapoint[1],2),i=null,d=e.series.color;"PDF"==e.series.label?(i="P("+g+") = "+h,d=["#fee","#fdd","#C05F5F"]):(i="F("+g+") = "+h,d=["#eef","#ddf","#4A4AC0"]),a(e.pageX,e.pageY,i,d)}}else{$("#jstat_tooltip").remove(),c=null}}),$(this._container).bind("mouseleave",function(){$("#jstat_tooltip").is(":visible")&&($("#jstat_tooltip").remove(),c=null)})}else{null==this._options.grid?this._options.grid={hoverable:!1}:this._options.grid.hoverable=!1,$(this._container).unbind("plothover")}this.render()},setType:function(b){this._plotType=b;var a={},c={};"line"==this._plotType?(a.show=!0,c.show=!1):"points"==this._plotType?(a.show=!1,c.show=!0):"both"==this._plotType&&(a.show=!0,c.show=!0),null==this._options.series?this._options.series={lines:a,points:c}:(null==this._options.series.lines?this._options.series.lines=a:this._options.series.lines.show=a.show,null==this._options.series.points?this._options.series.points=c:this._options.series.points.show=c.show),this.render()},setFill:function(a){this._fill=a,null==this._options.series?this._options.series={lines:{fill:a}}:null==this._options.series.lines?this._options.series.lines={fill:a}:this._options.series.lines.fill=a,this.render()},clear:function(){this._super(),this._distribution=null,this._pdfValues=[],this._cdfValues=[],this.render()},_generateValues:function(){this._cdfValues=[],this._pdfValues=[];var b=this._range.getPoints();this._options.xaxis={min:b[0],max:b[b.length-1]};for(var a=this._distribution.density(this._range),c=this._distribution.cumulativeDensity(this._range),d=0;d<b.length;d++){(a[d]==Number.POSITIVE_INFINITY||a[d]==Number.NEGATIVE_INFINITY)&&(a[d]=null),(c[d]==Number.POSITIVE_INFINITY||c[d]==Number.NEGATIVE_INFINITY)&&(c[d]=null),this._pdfValues.push([b[d],a[d]]),this._cdfValues.push([b[d],c[d]])}return jstat.max(a)},showPDF:function(){this._showPDF=!0,this.render()},hidePDF:function(){this._showPDF=!1,this.render()},showCDF:function(){this._showCDF=!0,this.render()},hideCDF:function(){this._showCDF=!1,this.render()},setDistribution:function(b,a){this._distribution=b,this._range=null!=a?a:b.getRange(),this._maxY=this._generateValues(),this._options.yaxis={max:1.1*this._maxY},this.render()},getDistribution:function(){return this._distribution},getRange:function(){return this._range},setRange:function(a){this._range=a,this._generateValues(),this.render()},render:function(){null!=this._distribution?this._showPDF&&this._showCDF?(this.setData([{yaxis:1,data:this._pdfValues,color:"rgb(237,194,64)",clickable:!1,hoverable:!0,label:"PDF"},{yaxis:2,data:this._cdfValues,clickable:!1,color:"rgb(175,216,248)",hoverable:!0,label:"CDF"}]),this._options.yaxis={max:1.1*this._maxY}):this._showPDF?(this.setData([{data:this._pdfValues,hoverable:!0,color:"rgb(237,194,64)",clickable:!1,label:"PDF"}]),this._options.yaxis={max:1.1*this._maxY}):this._showCDF&&(this.setData([{data:this._cdfValues,hoverable:!0,color:"rgb(175,216,248)",clickable:!1,label:"CDF"}]),this._options.yaxis={max:1.1}):this.setData([]),this._super()}}),DistributionFactory={};DistributionFactory.build=function(a){if(a.NormalDistribution){if(null!=a.NormalDistribution.mean&&null!=a.NormalDistribution.standardDeviation){return new NormalDistribution(a.NormalDistribution.mean[0],a.NormalDistribution.standardDeviation[0])}throw"Malformed JSON provided to DistributionBuilder "+a}if(a.LogNormalDistribution){if(null!=a.LogNormalDistribution.location&&null!=a.LogNormalDistribution.scale){return new LogNormalDistribution(a.LogNormalDistribution.location[0],a.LogNormalDistribution.scale[0])}throw"Malformed JSON provided to DistributionBuilder "+a}if(a.BetaDistribution){if(null!=a.BetaDistribution.alpha&&null!=a.BetaDistribution.beta){return new BetaDistribution(a.BetaDistribution.alpha[0],a.BetaDistribution.beta[0])}throw"Malformed JSON provided to DistributionBuilder "+a}if(a.GammaDistribution){if(null!=a.GammaDistribution.shape&&null!=a.GammaDistribution.scale){return new GammaDistribution(a.GammaDistribution.shape[0],a.GammaDistribution.scale[0])}throw"Malformed JSON provided to DistributionBuilder "+a}if(a.StudentTDistribution){if(null!=a.StudentTDistribution.degreesOfFreedom&&null!=a.StudentTDistribution.nonCentralityParameter){return new StudentTDistribution(a.StudentTDistribution.degreesOfFreedom[0],a.StudentTDistribution.nonCentralityParameter[0])}if(null!=a.StudentTDistribution.degreesOfFreedom){return new StudentTDistribution(a.StudentTDistribution.degreesOfFreedom[0])}throw"Malformed JSON provided to DistributionBuilder "+a}throw"Malformed JSON provided to DistributionBuilder "+a},$(function(){$(".text").focus(function(){$(this).parent().find("label").addClass("focused")}),$(".text").keyup(function(b){var a=b.keyCode||b.which;""==$(this).val()?$(this).parent().find("label").fadeIn("fast"):9!=a&&13!=a&&$(this).parent().find("label").fadeOut("fast"),$(this).parent().find(".exclaim")&&($(this).parent().find(".exclaim").fadeOut("fast"),$(this).removeClass("error"))}),$(".text").blur(function(){""==$(this).val()&&$(this).parent().find("label").removeClass("focused")}),submit_mailchimp_form(),$(".soon a").click(function(a){a.preventDefault()})}),$(function(){var a="c";$(":text").keyup(function(){var d=calculate_conversion("a"),c=calculate_conversion("b"),h=calculate_certainty(d,c),k=determine_statistical_significance(h),b=determine_winner(d,c,h),f=determine_loser(b),g=calculate_winner_improvement(d,c,b);$("#a_conversion").text(Math.round(d)+"%"),$("#b_conversion").text(Math.round(c)+"%"),$("#certainty").text(Math.round(h)+"%"),$("#winner").text(b),$("#winner_2").text(b),$("#loser").text(f),$("#loser_2").text(f),$("#winner_improvement").text(Math.round(g)+"%"),$("#stat_sig").text(k)}),$("#add_row").click(function(b){b.preventDefault(),a=add_row(a)}),submit_mailchimp_form()}),$(function(){$("html").click(function(){$(".info").each(function(){$(this).remove()})});var a=!1;$(document).ready(function(){$(".info_icon").hover(function(){a=!0},function(){a=!1}),$("body").mouseup(function(){a||$(".info").remove()})}),$(".info_icon").each(function(){$(this).toggle(function(){$(".info, .input_error").remove(),"rev_conv_info"==$(this).attr("id")?$(this).parent().append('<span class="info">This value is what you measured to be the average revenue per converted user.</span>'):"rev_uniques_info"==$(this).attr("id")?$(this).parent().append('<span class="info">Use <a href="http://kissmetrics.com">KISSmetrics</a> to easily calculate your monthly uniques.</span>'):"biz_type_info"==$(this).attr("id")?$(this).parent().append('<span class="info">What most closely resembles your business model? Unfortunately we only support these options due to data limitations.</span>'):"rank_net_conv_info"==$(this).attr("id")?attach_net_conv_info_for_rank($(this).parent()):"rev_net_conv_info"==$(this).attr("id")&&$(this).parent().append('<span class="info">Not sure what this is? Try <a href="http://kissmetrics.com">KISSmetrics</a> to calculate your signup conversion.</span>')},function(){$(".info").hide().fadeOut("fast")})}),$(".inside_label").focus(function(){$(this).parent().find("label").addClass("focused")}),$(".inside_label").keyup(function(c){var b=c.keyCode||c.which;""==$(this).val()?$(this).parent().find("label").fadeIn("fast"):9!=b&&13!=b&&$(this).parent().find("label").fadeOut("fast"),$(this).parent().find(".exclaim")&&($(this).parent().find(".exclaim").fadeOut("fast"),$(this).removeClass("error"))}),$(".inside_label").blur(function(){""==$(this).val()&&$(this).parent().find("label").removeClass("focused")}),$(".popup").click(function(){var d=575,c=400,g=($(window).width()-d)/2,h=($(window).height()-c)/2,b=this.href,f="status=1,width="+d+",height="+c+",top="+h+",left="+g;return window.open(b,"twitter",f),!1})});