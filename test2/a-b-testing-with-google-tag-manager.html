<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>A/B & MVT Testing with Google Tag Manager by Simon Vreeman</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-NWPFGT');</script>
    <link rel="dns-prefetch" href="//vreeman.com">
    <link rel="prefetch" href="//vreeman.com">
    <link rel="prerender" href="//vreeman.com">
    <style>
      html {
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%;
      }
      body{
        position: relative;
        margin: 100px auto;
        width: 90%;
        font-family: sans-serif;
        line-height: 1.8;
        color: rgba(0,0,0,0.8);
        text-align: center;
        letter-spacing: 0.01rem;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch;
      }
      nav{
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 999;
        background: rgba(255,255,255,0.8);
        box-shadow: 0px 1px 10px 0px rgba(83,69,64,0.16),0px 1px 2px 0px rgba(0,0,0,0.1);
      }
      nav p {
        width: 100%;
        padding: 0;
        margin: 5px 0;
        font-family: serif;
      }
      section {
        margin: 0 auto;
        max-width: 500px;
        text-align: left;
      }
      a:link, a:visited, a:active {
        color: rgba(0,0,0,0.8);
        font-family: sans-serif;
        text-decoration: none;
        border-bottom: 1px solid;
        border-bottom-color: rgba(0,0,0,0.1);
        transition: border-bottom-color 0.5s ease-in-out;
      }
      a:hover {
        border-bottom: 1px solid;
        border-bottom-color: rgba(0,0,0,0.8);
      }
      h1{
        font-weight: normal;
        letter-spacing: 0.1rem;
      }
      address {
        font-style: normal;
      }
      p {

      }
      code {
        padding: 2px 4px;
        font-size: 16px;
        background-color: rgba(0,0,0,0.1);
      }
      .amp {
        font-family: Baskerville, 'Goudy Old Style', Palatino, 'Book Antiqua', serif;
        font-style: italic;
        font-weight: normal;
      }
    </style>
  </head>
  <body itemscope itemtype="http://schema.org/Person">
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NWPFGT" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <nav>
      <p>A/B <span class="amp">&amp;</span> MVT Testing with Google Tag Manager and Google Analytics - <a href="https://github.com/simonvreeman/a-b-testing-with-google-tag-manager">Download the script</a></p>
    </nav>
    <h1>A/B <span class="amp">&amp;</span> Multivariate Testing with Google Tag Manager</h1>
    <section>
      <p>This is a simple JavaScript script for A/B or Multivariate testing with Google Tag Manager. An expensive testing tool isn't necessary any more.</p>
      <ul>
        <li>It is easy to setup</li>
        <li>Customize it for your own needs</li>
        <li>It is using core features of GTM</li>
      </ul>
      <p>The script randomly assigns a variation of the test to a users based on a random number that is generated by GTM. Then the script will place a cookie that contains information about the test and variation. When a user return to the page it will get the same variation of the A/B or multivariate test.</br>The collect data is send to the dataLayer of Google Tag Manager. Another tag for will pick up the data from the dataLayer thanks to custom created macro's and will send it to Google Analytics. Segmentation and analysis can then be done in Google Analytics.</p>
      <h2>Requirements for usage</h2>
      <p>For successful using this script, you need to following five requirements in place to make it all work. The last three are needed for tracking the tests. You need to setup these only once.</p>
      <ul>
        <li>Google Tag Manager</li>
        <li>Random Number macro</li>
        <li>Google Analytics Event tracking tag</li>
        <li>Custom rule for the event tracking tag</li>
        <li>Custom macro's to get the data from the dataLayer</li>
      </ul>
      <h3>Create the Random Number macro</h3>
      <p>To use the script, you need to create the Random Number macro. It will return a random number between 0 and 2147483647. That number is used to decide which variation of the test the user will see.</p>
      <ol>
        <li>Click on the Read button New and select Macro</li>
        <li>Give the macro the name <code>Random Number</code></li>
        <li>Select from the drop down Random Number</li>
        <li>Save the macro</li>
      </ol>
      <h3>Create Google Analytics Event tracking tag</h3>
      <p></p>
      <ol>
        <li></li>
      </ol>
      <h3>Create Custom rule for the event tracking tag</h3>
      <p></p>
      <ol>
        <li></li>
      </ol>
      <h3>Create Custom macro's to get data from the dataLayer</h3>
      <p></p>
      <ol>
        <li></li>
      </ol>
    </section>
    <address>
      <a href="mailto:simon@vreeman.com" itemprop="email" title="Send an email to Simon Vreeman">simon@vreeman.com</a><br />
      <a href="tel:+31613367285" itemprop="telephone" title="Call Simon Vreeman">+31(0)6-13367285</a><br />
      <a href="http://vreeman.com" itemprop="url" title="The personal website of Simon Vreeman">vreeman.com</a><br />
      <a href="http://twitter.com/vreeman" itemprop="url" title="Simon Vreeman on Twitter">@vreeman</a>
    </address>
  </body>
</html>
